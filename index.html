<html>

<body>

<table>

<tbody>

<tr>

<td valign="top" width="300"  style="font-family:monospace">
<h2>Руководство по IRAF</h2>
&#9679; Установка IRAF под Linux<br>
&#9675; <a href="login.html">Настройка IRAF (login.cl)</a><br>
&#9675; <a href="cl.html">Командная строка IRAF</a><br>
&#9675; <a href="file.html">Работа с файлами в IRAF</a><br>
&#9675; <a href="package.html">Работа с пакетами IRAF</a><br>
&#9675; <a href="task.html">Работа с командами IRAF</a><br>
&#9675; <a href="reduction.html">Первичная обработка снимков</a><br>
&#9675; <a href="align.html">Выравнивание снимков</a><br>
&#9675; <a href="apphot.html">Апертурная фотометрия</a><br>
&#9675; <a href="psfphot.html">PSF-фотометрия</a><br>
&#9675; <a href="script.html">Работа со скриптами в IRAF</a><br>
&#9675; <a href="example.html">Примеры задач</a><br>
&#9675; <a href="reference.html">Справочник команд IRAF</a><br>
&#9675; <a href="envvar.html">Переменные среды IRAF</a>
</td>

<td style="font-family:monospace">

<h3>Установка IRAF под Linux</h3>

<p>Данное описание применимо для установки стандартного IRAF на 32-битных Debian-дистрибутивах Linux таких как Debian, Ubuntu, Mint и др. Здесь также описывается установка X11IRAF, DS9 и дополнительных пакетов IRAF. Чтобы не допустить опечаток при вводе нижеследующих команд, достаточно просто копировать их и вставлять в командную строку терминала, сохраняя последовательность.

<hr>

<h4>Установка IRAF</h4>

<p>Откройте окно терминала, например, нажатием комбинации клавиш Ctrl+Alt+T, так чтобы Вы оказались в своей пользовательской домашней директории /home/user (где вместо user будет Ваше пользовательское имя).

<p>Первой командой вы скачиваете и автоматически устанавливаете некоторые зависимости (пакеты Linux необходимые для полной работоспособности IRAF):

<p style="background-color:lightgray">sudo apt-get install tcsh libxss1 libncurses5 libXmu6:i386

<p>Следующей командой в текущую директорию /home/user скачиваете архивный файл iraf.lnux.x86.tar.gz (191 MB) с 32-битной версией IRAF 2.16 с официального FTP-сервера создателя IRAF, обсерватории NOAO:

<p style="background-color:lightgray">wget ftp://iraf.noao.edu/iraf/v216/PCIX/iraf.lnux.x86.tar.gz

<p>Если после достижения 100% командная строка не возвращается, нажмите Ctrl+C и следуйте по инструкции далее.

<p>В корневой директории создаёте директорию /iraf:

<p style="background-color:lightgray">sudo mkdir /iraf

<p>В созданной директории /iraf создаёте ещё раз директорию /iraf:

<p style="background-color:lightgray">sudo mkdir /iraf/iraf

<p>Перемещаете скачанный файл iraf.lnux.x86.tar.gz из директории /home/user в созданную директорию /iraf/iraf:

<p style="background-color:lightgray">sudo mv iraf.lnux.x86.tar.gz /iraf/iraf/.

<p>Переходите из директории /home/user в директорию /iraf/iraf:

<p style="background-color:lightgray">cd /iraf/iraf

<p>В текущую директорию /iraf/iraf распаковываете скачанный файл iraf.lnux.x86.tar.gz:

<p style="background-color:lightgray">sudo tar -zxf iraf.lnux.x86.tar.gz

<p>Скачанный файл iraf.lnux.x86.tar.gz больше не нужен, удаляете его:

<p style="background-color:lightgray">sudo rm iraf.lnux.x86.tar.gz

<p>Запускаете установку IRAF, на каждый запрос отвечайте нажатием клавиши Enter:

<p style="background-color:lightgray">sudo ./install

<hr>

<h4>Установка X11IRAF</h4>

<p>В директории /iraf создаёте директорию /x11iraf:

<p style="background-color:lightgray">sudo mkdir /iraf/x11iraf

<p>Переходите из директории /iraf/iraf в директорию /iraf/x11iraf

<p style="background-color:lightgray">cd /iraf/x11iraf

<p>В текущую директорию /iraf/x11iraf скачиваете архивный файл x11iraf-v2.0BETA-bin.linux.tar.gz (2.5 MB) с FTP-сервера NOAO:

<p style="background-color:lightgray">sudo wget http://iraf.noao.edu/iraf/ftp/iraf/x11iraf/x11iraf-v2.0BETA-bin.linux.tar.gz

<p>Сюда же в директорию /iraf/x11iraf распаковываете скачанный файл x11iraf-v2.0BETA-bin.linux.tar.gz:

<p style="background-color:lightgray">sudo tar -zxf x11iraf-v2.0BETA-bin.linux.tar.gz

<p>Скачанный файл x11iraf-v2.0BETA-bin.linux.tar.gz больше не нужен, удаляете его:

<p style="background-color:lightgray">sudo rm x11iraf-v2.0BETA-bin.linux.tar.gz

<p>Запускаете установку X11IRAF, на каждый запрос отвечайте нажатием клавиши Enter:

<p style="background-color:lightgray">sudo ./install

<hr>

<h4>Установка DS9</h4>

<p>В текущую директорию /iraf/x11iraf скачиваете архивный файл ds9.linux.7.3.2.tar.gz (11 MB) с версией DS9 7.3.2 с официального сайта создателя SAOImage:

<p style="background-color:lightgray">sudo wget http://ds9.si.edu/archive/linux/ds9.linux.7.3.2.tar.gz

<p>Сюда же в директорию /iraf/x11iraf распаковываете скачанный файл ds9.linux.7.3.2.tar.gz (при распаковке из архива выйдет только один файл с названием ds9):

<p style="background-color:lightgray">sudo tar -zxf ds9.linux.7.3.2.tar.gz

<p>Скачанный файл ds9.linux.7.3.2.tar.gz больше не нужен, удаляете его:

<p style="background-color:lightgray">sudo rm ds9.linux.7.3.2.tar.gz

<p>Распакованный файл ds9 перемещаете из директории /iraf/x11iraf в директорию /usr/local/bin:

<p style="background-color:lightgray">sudo mv ds9 /usr/local/bin/.

<p>Важно: в работе с новейшей версией DS9 были замечены проблемы, если они будут и у Вас, рекомендуется установить раннюю версию 7.1, которую можно установить этими же командами, предварительно удалив файл ds9 новой версии, и в процессе установки скачав файл ранней версии ds9.linux.7.1.tar.gz командой:

<p style="background-color:lightgray">sudo wget http://ds9.si.edu/archive/linux/ds9.linux.7.1.tar.gz

<hr>

<h4>Конфигурирование запуска и инициализация IRAF</h4>

<p>Переходите из директории /iraf/x11iraf в домашнюю директорию /home/user:

<p style="background-color:lightgray">cd

<p>Скачиваете файл iraf (1.8 KB) содержащий скрипт для автоматизированного запуска xgterm, IRAF и DS9:

<p style="background-color:lightgray">wget http://www.sergiuspro.de/astronomy/IRAF/ru/iraf

<p>Делаете скачанный файл iraf исполняемым:

<p style="background-color:lightgray">sudo chmod u=rwx iraf

<p>В домашней директории /home/user создаёте директорию /IRAF (большими буквами!):

<p style="background-color:lightgray">mkdir IRAF

<p>Переходите в директорию /IRAF:

<p style="background-color:lightgray">cd IRAF

<p>Выполняете команду инициализации IRAF (в этот момент создаётся файл login.cl в директории /IRAF, содержащий конфигурацию IRAF, используемую при его запуске). При запросе типа терминала напишите 'xgterm', указав тем самым программу эмулятора терминала, которая будет использована для работы с IRAF:

<p style="background-color:lightgray">mkiraf

<p>На этом стандартная установка IRAF, X11IRAF и DS9 завершена, закрываете окошко терминала:

<p style="background-color:lightgray">exit

<hr>

<h4>Запуск IRAF и выход из него</h4>

<p>Для запуска IRAF откройте окно терминала. Находясь в своей пользовательской домашней директории /home/user, командой ./iraf запустите тот самый скриптовый файл iraf, который в свою очередь запустит всё сразу и с некоторыми заданными параметрами – DS9 и xgterm (а в нём ecl, то есть сам IRAF, с текущей папкой /IRAF).

<p>Можно и вручную запускать в терминале всё по отдельности и по мере надобности:

<p>1) В терминале запустить xgterm (здесь без каких-либо дополнительных параметров как в скрипте iraf):

<p style="background-color:lightgray">xgterm & 

<p>Затем перейти в директорию /IRAF (или ту, в которой была выполнена команда mkiraf во время установки IRAF):

<p style="background-color:lightgray">cd ~/IRAF

<p>Далее запустить расширенную командную строку (extended command line) IRAF (или командой cl запустить VO IRAF):

<p style="background-color:lightgray">ecl

<p>2) Опять же в терминале (не в xgterm!) запустить DS9:

<p style="background-color:lightgray">ds9 &

<p>Для выхода из IRAF по окончании работы в нём, в командной строке ecl (не в терминале Linux!) нужно ввести команду:

<p style="background-color:lightgray">logout

<hr>

<h4>Установка дополнительных пакетов IRAF</h4>

<p>Следующими командами можно установить некоторые дополнительные пакеты IRAF. Учтите, что для установки всех нижеприведённых пакетов требуется как место на диске, так и время на скачивание пакетов.

<p>Откройте терминал.<br>Переходите в директорию /iraf/iraf/extern:

<p style="background-color:lightgray">cd /iraf/iraf/extern

<p>Запускаете команду конфигурирования IRAF:

<p style="background-color:lightgray">sudo ./configure

<p>Устанавливаете пакеты adccdrom, ctio, cfh12k, esowfi, mscdb, mscred, stsdas, nfextern, optic, deitab, euv, mem0, mtools, rvsao, song, sqiid, stecf, ucsclris, upsqiid и xdimsum (если нужно установить только какие-то отдельные из них, удалите из списка ненужные):

<p style="background-color:lightgray">sudo make adccdrom ctio cfh12k esowfi mscdb mscred stsdas nfextern optic deitab euv mem0 mtools rvsao song sqiid stecf ucsclris upsqiid xdimsum

<p>Установка дополнительных пакетов IRAF завершена, закрываете терминал:

<p style="background-color:lightgray">exit

<p>При следующем запуске IRAF на экран будет выведен список всех установленных пакетов.

</td>

</tr>

</tbody>

</table>

</body>
<html>
